(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,t,a){e.exports=a(311)},303:function(e,t,a){},309:function(e,t,a){},311:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),s=a.n(o),i=a(34),c=a(22),l="SET_LOGIN_PENDING",m="SET_LOGIN_SUCCESS",d="SET_LOGIN_ERROR";function u(e){return{type:l,isLoginPending:e}}function p(e){return{type:m,isLoginSuccess:e}}function h(e){return{type:d,loginError:e}}var g,f=a(122),w={SET_AUTHENTICATION:"SET_AUTHENTICATION",FETCH_LOGIN_DETAILS_REQUESTED:"FETCH_LOGIN_DETAILS_REQUESTED",FETCH_LOGIN_DETAILS_SUCCEEDED:"FETCH_LOGIN_DETAILS_SUCCEEDED",FETCH_LOGIN_DETAILS_FAILURE:"FETCH_LOGIN_DETAILS_FAILURE",SET_USER_DETAILS:"SET_USER_DETAILS",USER_LOGOUT:"USER_LOGOUT"},E={email:"",firstName:"",lastName:""},v=a(24),y=a(320),b=a(315),S=a(32),C=a.n(S),O=Object(y.a)(w.SET_AUTHENTICATION),x={isAuthenticated:!1,accessToken:null,refreshToken:null},T=Object(b.a)((g={},Object(v.a)(g,w.SET_AUTHENTICATION,function(e,t){return t.error?e:C.a.merge({},e,t.payload)}),Object(v.a)(g,w.USER_LOGOUT,function(){return x}),g),x),P=Object(c.c)({login:function(e,t){return function(a){a(u(!0)),a(p(!1)),a(h(null)),function(e,t,a){var n=this;setTimeout(function(){return e===n.state.email&&t===n.state.password?a(null):a(new Error("Invalid email and password"))},1e3)}(e,t,function(e){a(u(!1)),a(e?h(e):p(!0))})}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.SET_USER_DETAILS:return Object(f.a)({},e,{email:t.payload.email,firstName:t.payload.firstName,lastName:t.payload.lastName});default:return e}},auth:T}),j=a(123),U=a(124),N=a.n(U),F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.d,k=Object(c.e)(P,F(Object(c.a)(j.a,N.a))),_=a(17),L=a(18),I=a(20),D=a(19),A=a(21),B=a(317),R=a(319),H=a(314),G=a(316),M=a(23),W=a(10),q=a.n(W),z=a(27),Q=a.n(z),J=a(125),X=a.n(J),V=function(e){function t(){var e,a;Object(_.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).goBack=function(){a.props.history&&a.props.history.goBack()},a}return Object(A.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.wrapper},r.a.createElement(X.a,{color:"error",fontSize:"large",classes:{root:e.sad404}}),r.a.createElement(q.a,{variant:"h1",color:"primary",align:"center",classes:{root:e.notFound}},"404"),r.a.createElement(q.a,{variant:"body1",color:"primary",align:"center",classes:{root:e.notFound}},"We are sorry but the page you are looking for was not found..."),r.a.createElement(Q.a,{className:e.backBtn,onClick:this.goBack,color:"secondary",variant:"contained"},"Go Back"))}}]),t}(n.Component),Y=Object(M.withStyles)(function(){return{wrapper:{display:"flex",flexDirection:"column",marginTop:"250px",justifyContent:"center"},sad404:{fontSize:100,margin:"auto"},notFound:{fontFamily:"Lucida Console, Monaco, monospace"},backBtn:{margin:"auto",marginTop:"15px",marginBottom:"15px",padding:"5px",textTransform:"none"}}})(V),$=a(318),K=a(313),Z=a(28),ee=a.n(Z),te=a(126),ae=a.n(te).a.create({headers:{"Content-Type":"application/json"}});ae.interceptors.request.use(function(e){var t;if((t=e.url,ne.find(function(e){return-1!==t.indexOf(e)}))||e.headers.Authorization)return e;var a=k.getState().auth,n=C.a.get(a,"accessToken");return n&&(e.headers.Authorization="Bearer ".concat(n)),e},function(e){return Promise.reject(e)}),ae.interceptors.response.use();var ne=["/login","/register","/resetPassword","/forgotPassword"];ae.interceptors.response.use(function(e){var t=C.a.get(e,"request.responseURL");if(t&&-1!==t.indexOf("/login")){var a=C.a.get(e,"data.access_token"),n=C.a.get(e,"data.refresh_token"),r=C.a.get(e,"data.expires_in"),o=C.a.get(e,"data.scope");k.dispatch(O({isAuthenticated:!0,expires:r,accessToken:a,refreshToken:n,scope:o}))}return e},function(e){var t=e.response;return t&&401===t.status&&k.dispatch(ce()),Promise.reject(e)});var re=ae;var oe=function(e){return function(t){return function(e){return re.post("/uaa/auth/token",{email:e.email,password:e.password})}(e).then(function(){t(ie())})}},se=function(e,t,a){return function(e){return re.post("/uaa/auth/register",{firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password})}(e).then(function(){t()}).catch(function(e){a(e)})},ie=function(){return function(e){return new Promise(function(t){return re.get("/api/auth/v1/me").then(function(a){var n=a.data;return e({type:w.SET_CURRENT_USER,payload:n}),t(n)})})}},ce=function(){return{type:w.USER_LOGOUT}},le=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(I.a)(this,Object(D.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;(0,a.props.loginUser)({email:n,password:r}).then(function(){return a.handleSuccess()}).catch(function(e){return a.handleError(e)})},a.handleSuccess=function(){a.resetForm();var e=a.props;e.location;e.history.push("/dashboard")},a.handleError=function(e){a.setState({errorFlag:!0,errorMessage:"Email or Password is incorrect.  Please try again.",resendFlag:!1})},a.resetForm=function(){a.setState({email:"",password:"",errorFlag:!1,errorMessage:""})},a.handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.state={email:"",password:"",errorFlag:!1,errorMessage:""},a}return Object(A.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.loginFormWrapper},r.a.createElement(q.a,{variant:"h1",color:"primary",align:"center",classes:{root:e.appName}},"BidBig"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:e.loginForm},r.a.createElement(ee.a,{id:"email",type:"email",label:"Email",value:this.state.email,required:!0,className:"".concat(e.textField," ","login-email"),onChange:this.handleChange("email")}),r.a.createElement(ee.a,{id:"password",type:"password",label:"Password",value:this.state.password,required:!0,className:"".concat(e.textField," ","login-password"),onChange:this.handleChange("password")}),r.a.createElement(Q.a,{variant:"contained",color:"primary",className:e.loginBtn,type:"submit"}," ","Login")),this.state.errorFlag&&r.a.createElement(q.a,{variant:"body1",color:"error",align:"center"}," ",this.state.errorMessage,"  "),r.a.createElement(q.a,{variant:"body1",color:"inherit",align:"center"},"Don't have an account yet?"," ",r.a.createElement(K.a,{to:"/register",style:{color:"inherit"}},"Register Here")),r.a.createElement(q.a,{variant:"body1",color:"inherit",align:"center"},"Forgot password?","  ",r.a.createElement(K.a,{to:"/forgot-password",style:{color:"inherit"}},"Reset Password")))}}]),t}(n.Component),me=Object($.a)(Object(M.withStyles)(function(){return{loginFormWrapper:{display:"flex",margin:"auto",marginTop:"20px",flexDirection:"column",width:"40vw",padding:15},loginForm:{display:"flex",margin:"auto",flexDirection:"column",width:"40vw"},appName:{fontFamily:"Lucida Console, Monaco, monospace"},textField:{margin:"auto",width:"30vw"},loginBtn:{margin:"auto",marginTop:"15px",marginBottom:"15px",padding:"5px",width:"30vw"}}})(Object(i.b)(function(e,t){return{}},function(e,t){return Object(c.b)({loginUser:oe},e)})(le))),de=a(38),ue=a.n(de),pe=a(55),he=a.n(pe),ge=a(37),fe=a.n(ge),we=a(31),Ee=a.n(we),ve=a(47),ye=a.n(ve),be=a(48),Se=a.n(be),Ce=a(50),Oe=a.n(Ce),xe=a(49),Te=a.n(xe),Pe=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(I.a)(this,Object(D.a)(t).call(this,e))).resetForm=function(){a.setState({name:"",username:"",email:"",password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1,passwordUnmatchError:!1,passwordUnmatchHelperText:"",registrationSuccessful:!1,signUpError:!1,signUpErrorText:""})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.username,o=t.email,s=t.password;(0,a.props.registerUser)({name:n,username:r,email:o,password:s},a.handleSuccess,a.handleError).then(function(){return a.handleSuccess()}).catch(function(e){return a.handleError(e)})},a.handleSuccess=function(){a.resetForm(),a.setState({registrationSuccessful:!0})},a.handleError=function(e){console.log("Error in Sign Up. Please try again later. ",e),a.setState({signUpError:!0,signUpErrorText:"Error in Sign Up. Please try again later."})},a.handleClickShowPassword=function(){a.setState(function(e){return{showPassword:!e.showPassword}})},a.handleClickShowConfirmPassword=function(){a.setState(function(){return{showConfirmPassword:!a.state.showConfirmPassword}})},a.handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.handlePasswordChange=function(e){a.setState({confirmPassword:e.target.value},a.checkIfPasswordsMatch)},a.state={name:"",username:"",email:"",password:"",confirmPassword:"",showPassword:!1,showConfirmPassword:!1,passwordUnmatchError:!1,passwordUnmatchHelperText:"",registrationSuccessful:!1,signUpError:!1,signUpErrorText:""},a}return Object(A.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.setState({registrationSuccessful:!1})}},{key:"checkIfPasswordsMatch",value:function(){var e=this.state;e.password!==e.confirmPassword?this.setState({passwordUnmatchError:!0,passwordUnmatchHelperText:"Passwords do not match."}):this.setState({passwordUnmatchError:!1,passwordUnmatchHelperText:""})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.signupPage},r.a.createElement(q.a,{variant:"h1",color:"primary",align:"center",classes:{root:e.appName}},"BidBig"),this.state.registrationSuccessful?r.a.createElement(q.a,{variant:"h2",align:"center"},"Congratulations! You have been successfully registered.",r.a.createElement("br",null),r.a.createElement(K.a,{to:"/login",style:{color:"inherit"}},"Login")," ","to get started."):r.a.createElement("div",null,r.a.createElement(q.a,{variant:"title",align:"center",classes:{root:e.signUpHeading}},"Create your BidBig Account"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:e.signUpForm},r.a.createElement(ee.a,{id:"name",type:"text",label:"Name",inputProps:{maxLength:255},value:this.state.name,required:!0,className:e.textField,onChange:this.handleChange("name")}),r.a.createElement(ee.a,{id:"userame",label:"Username",value:this.state.username,required:!0,className:e.textField,onChange:this.handleChange("username")}),r.a.createElement(ee.a,{id:"email",type:"email",label:"Email",value:this.state.email,required:!0,className:"".concat(e.textField," ","login-email"),onChange:this.handleChange("email")}),r.a.createElement(ue.a,{className:"".concat(e.textField," ","signup-field"),required:!0,margin:"normal"},r.a.createElement(fe.a,{htmlFor:"password"},"Password"),r.a.createElement(Ee.a,{id:"password",value:this.state.password,inputProps:{minLength:6},type:this.state.showPassword?"text":"password",onChange:this.handleChange("password"),endAdornment:r.a.createElement(ye.a,{position:"end"},r.a.createElement(Se.a,{onClick:this.handleClickShowPassword},this.state.showPassword?r.a.createElement(Te.a,null):r.a.createElement(Oe.a,null)))})),r.a.createElement(ue.a,{className:"".concat(e.textField," ","main-entry-signup-field"),required:!0,margin:"normal"},r.a.createElement(fe.a,{htmlFor:"confirmPassword"},"Re-enter password"),r.a.createElement(Ee.a,{id:"confirmPassword",className:"entry-signup-confirmpassword",value:this.state.confirmPassword,inputProps:{minLength:6},type:this.state.showConfirmPassword?"text":"password",onChange:this.handlePasswordChange,endAdornment:r.a.createElement(ye.a,{position:"end"},r.a.createElement(Se.a,{onClick:this.handleClickShowConfirmPassword},this.state.showConfirmPassword?r.a.createElement(Te.a,null):r.a.createElement(Oe.a,null)))}),this.state.passwordUnmatchError&&r.a.createElement(he.a,{error:!0}," ",this.state.passwordUnmatchHelperText," ")),r.a.createElement(Q.a,{variant:"contained",color:"primary",className:e.signUpBtn,type:"submit"}," ","Create Account")),r.a.createElement(q.a,{type:"body1",align:"center"},"Already have an account?"," ",r.a.createElement(K.a,{to:"/login",style:{color:"inherit"}},"Sign In")),r.a.createElement(q.a,{type:"body1",align:"center",style:{paddingTop:"10px",color:"red"}},this.state.signUpError&&this.state.signUpErrorText)))}}]),t}(n.Component),je=Object($.a)(Object(M.withStyles)(function(){return{signupPage:{display:"flex",flexDirection:"column",alignItems:"center",alignSelf:"center",padding:15},signUpForm:{display:"flex",flexDirection:"column",flexWrap:"wrap",padding:"10px",alignItems:"center"},appName:{marginTop:20,fontFamily:"Lucida Console, Monaco, monospace"},signUpHeading:{marginTop:20,fontFamily:"Lucida Console, Monaco, monospace"},textField:{margin:"auto",width:"30vw"},signUpBtn:{margin:"auto",width:"30vw",marginTop:"15px",marginBottom:"15px",padding:"5px",textTransform:"none"}}})(Object(i.b)(function(e,t){return{}},function(e,t){return Object(c.b)({registerUser:se},e)})(Pe))),Ue=function(e){function t(){return Object(_.a)(this,t),Object(I.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.dashboardWrapper})}}]),t}(n.Component),Ne=Object(M.withStyles)(function(){return{dashboardWrapper:{display:"flex",flexWrap:"wrap"}}})(Ue),Fe=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(I.a)(this,Object(D.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault()},a.resetForm=function(){a.setState({email:""})},a.handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.state={email:""},a}return Object(A.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.formWrapper},r.a.createElement("form",{onSubmit:this.handleSubmit,className:e.forgotPasswordForm},r.a.createElement(q.a,{variant:"h1",color:"primary",align:"center",classes:{root:e.heading}},"BidBig"),r.a.createElement(q.a,{variant:"h5",align:"center",classes:{root:e.heading}},"Did you forget your password?"),r.a.createElement(q.a,{variant:"subheading",align:"center",classes:{root:e.heading}},"Provide your email address and we will send you a link to reset your password"),r.a.createElement(ee.a,{id:"email",type:"email",label:"Email",value:this.state.email,required:!0,className:e.textField,onChange:this.handleChange("email")}),r.a.createElement(Q.a,{variant:"contained",color:"primary",className:e.resetBtn,type:"submit"},"Reset Password"),r.a.createElement(q.a,{variant:"body1",align:"center"},"Go back to"," ",r.a.createElement(K.a,{to:"/login",style:{color:"inherit"}},"Login"))))}}]),t}(n.Component),ke=Object($.a)(Object(M.withStyles)(function(){return{formWrapper:{display:"flex",flexDirection:"column",justifyContent:"center"},forgotPasswordForm:{display:"flex",margin:"auto",flexDirection:"column",width:"40vw"},heading:{marginTop:20,fontFamily:"Lucida Console, Monaco, monospace"},textField:{margin:"auto",width:"30vw"},resetBtn:{margin:"auto",marginTop:"15px",marginBottom:"15px",padding:"5px",width:"30vw"}}})(Object(i.b)(function(e,t){return{}},function(e,t){return Object(c.b)({},e)})(Fe))),_e=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(I.a)(this,Object(D.a)(t).call(this,e))).handleClickShowPassword=function(){a.setState(function(e){return{showPassword:!e.showPassword}})},a.handleClickShowConfirmPassword=function(){a.setState(function(){return{showConfirmPassword:!a.state.showConfirmPassword}})},a.handleChange=function(e){return function(t){a.setState(Object(v.a)({},e,t.target.value))}},a.handlePasswordChange=function(e){a.setState({confirmPassword:e.target.value},a.checkIfPasswordsMatch)},a.state={showPassword:!1,showConfirmPassword:!1,passwordUnmatchError:!1,passwordUnmatchHelperText:"",passwordResetSuccessful:!1,signUpError:!1,signUpErrorText:""},a}return Object(A.a)(t,e),Object(L.a)(t,[{key:"checkIfPasswordsMatch",value:function(){var e=this.state;e.password!==e.confirmPassword?this.setState({passwordUnmatchError:!0,passwordUnmatchHelperText:"Passwords do not match."}):this.setState({passwordUnmatchError:!1,passwordUnmatchHelperText:""})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.resetPasswordPage},r.a.createElement("form",{onSubmit:this.handleSubmit,className:e.resetForm},r.a.createElement(q.a,{variant:"h1",color:"primary",align:"center",classes:{root:e.heading}},"BidBig"),r.a.createElement(q.a,{variant:"h5",align:"center",classes:{root:e.heading}},"Reset your password"),r.a.createElement(ue.a,{className:"".concat(e.textField," ","signup-field"),required:!0,margin:"normal"},r.a.createElement(fe.a,{htmlFor:"password"},"Password"),r.a.createElement(Ee.a,{id:"password",value:this.state.password,inputProps:{minLength:6},type:this.state.showPassword?"text":"password",onChange:this.handleChange("password"),endAdornment:r.a.createElement(ye.a,{position:"end"},r.a.createElement(Se.a,{onClick:this.handleClickShowPassword},this.state.showPassword?r.a.createElement(Te.a,null):r.a.createElement(Oe.a,null)))})),r.a.createElement(ue.a,{className:"".concat(e.textField," ","main-entry-signup-field"),required:!0,margin:"normal"},r.a.createElement(fe.a,{htmlFor:"confirmPassword"},"Re-enter password"),r.a.createElement(Ee.a,{id:"confirmPassword",className:"entry-signup-confirmpassword",value:this.state.confirmPassword,inputProps:{minLength:6},type:this.state.showConfirmPassword?"text":"password",onChange:this.handlePasswordChange,endAdornment:r.a.createElement(ye.a,{position:"end"},r.a.createElement(Se.a,{onClick:this.handleClickShowConfirmPassword},this.state.showConfirmPassword?r.a.createElement(Te.a,null):r.a.createElement(Oe.a,null)))}),this.state.passwordUnmatchError&&r.a.createElement(he.a,{error:!0}," ",this.state.passwordUnmatchHelperText," ")),r.a.createElement(Q.a,{variant:"contained",color:"primary",className:e.resetBtn,type:"submit"}," ","Reset Password")))}}]),t}(n.Component),Le=Object(M.withStyles)(function(){return{resetPasswordPage:{display:"flex",flexDirection:"column",alignItems:"center",alignSelf:"center",padding:15},resetForm:{display:"flex",flexDirection:"column",flexWrap:"wrap",padding:"10px",alignItems:"center"},heading:{marginTop:20,fontFamily:"Lucida Console, Monaco, monospace"},textField:{margin:"auto",width:"30vw"},resetBtn:{margin:"auto",width:"30vw",marginTop:"15px",marginBottom:"15px",padding:"5px",textTransform:"none"}}})(_e),Ie=(a(303),function(e){function t(){return Object(_.a)(this,t),Object(I.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(A.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("main",{className:"container"},r.a.createElement(B.a,null,r.a.createElement(R.a,null,r.a.createElement(H.a,{exact:!0,path:"/login",component:me}),r.a.createElement(H.a,{exact:!0,path:"/",render:function(){return r.a.createElement(G.a,{to:"/login"})}}),r.a.createElement(H.a,{path:"/register",component:je}),r.a.createElement(H.a,{path:"/forgot-password",component:ke}),r.a.createElement(H.a,{path:"/reset-password",component:Le}),r.a.createElement(H.a,{path:"/dashboard",component:Ne}),r.a.createElement(H.a,{path:"*",component:Y})))))}}]),t}(n.Component)),De=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ae(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(305),a(307),a(309);var Be=k;s.a.render(r.a.createElement(i.a,{store:Be},r.a.createElement(Ie,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");De?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ae(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Ae(e)})}}()}},[[128,2,1]]]);
//# sourceMappingURL=main.c79ca07e.chunk.js.map